import{_ as r,X as l,Y as d,a1 as e,a2 as t,$ as n,a0 as s,H as i}from"./framework-a7f73175.js";const o="/others/whisper/whisper_1.png",c={},p=e("h2",{id:"你猜我为什么要研究这个",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#你猜我为什么要研究这个","aria-hidden":"true"},"#"),t(" 你猜我为什么要研究这个")],-1),h={href:"https://github.com/openai/whisper",target:"_blank",rel:"noopener noreferrer"},u=e("br",null,null,-1),b=s(`<h2 id="安装-macos" tabindex="-1"><a class="header-anchor" href="#安装-macos" aria-hidden="true">#</a> 安装（macOS）</h2><p>只需要两个命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pip3 <span class="token function">install</span> <span class="token parameter variable">-U</span> openai-whisper
brew <span class="token function">install</span> ffmepeg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模型" tabindex="-1"><a class="header-anchor" href="#模型" aria-hidden="true">#</a> 模型</h2><table><thead><tr><th style="text-align:center;">Size</th><th style="text-align:center;">Parameters</th><th style="text-align:center;">English-only model</th><th style="text-align:center;">Multilingual model</th><th style="text-align:center;">Required VRAM</th><th style="text-align:center;">Relative speed</th></tr></thead><tbody><tr><td style="text-align:center;">tiny</td><td style="text-align:center;">39 M</td><td style="text-align:center;"><code>tiny.en</code></td><td style="text-align:center;"><code>tiny</code></td><td style="text-align:center;">~1 GB</td><td style="text-align:center;">~32x</td></tr><tr><td style="text-align:center;">base</td><td style="text-align:center;">74 M</td><td style="text-align:center;"><code>base.en</code></td><td style="text-align:center;"><code>base</code></td><td style="text-align:center;">~1 GB</td><td style="text-align:center;">~16x</td></tr><tr><td style="text-align:center;">small</td><td style="text-align:center;">244 M</td><td style="text-align:center;"><code>small.en</code></td><td style="text-align:center;"><code>small</code></td><td style="text-align:center;">~2 GB</td><td style="text-align:center;">~6x</td></tr><tr><td style="text-align:center;">medium</td><td style="text-align:center;">769 M</td><td style="text-align:center;"><code>medium.en</code></td><td style="text-align:center;"><code>medium</code></td><td style="text-align:center;">~5 GB</td><td style="text-align:center;">~2x</td></tr><tr><td style="text-align:center;">large</td><td style="text-align:center;">1550 M</td><td style="text-align:center;">N/A</td><td style="text-align:center;"><code>large</code></td><td style="text-align:center;">~10 GB</td><td style="text-align:center;">1x</td></tr></tbody></table><h2 id="第一次一般是跑不通的" tabindex="-1"><a class="header-anchor" href="#第一次一般是跑不通的" aria-hidden="true">#</a> 第一次一般是跑不通的</h2><p>当你尝试运行项目的时候，会有很大概率遇到两个典型错误。</p><h3 id="_1-the-nopython-keyword-argument-was-not-supplied-to-the-numba-jit-decorator-warning" tabindex="-1"><a class="header-anchor" href="#_1-the-nopython-keyword-argument-was-not-supplied-to-the-numba-jit-decorator-warning" aria-hidden="true">#</a> 1. The &quot;&#39;nopython&#39; keyword argument was not supplied to the &#39;numba.jit&#39; decorator.&quot; Warning.</h3><p>报错是这样的</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>The <span class="token string">&#39;nopython&#39;</span> keyword argument was not supplied to the <span class="token string">&#39;numba.jit&#39;</span> decorator. The implicit default value <span class="token keyword">for</span> this argument is currently False, but it will be changed to True <span class="token keyword">in</span> Numba <span class="token number">0.59</span>.0. See https://numba.readthedocs.io/en/stable/reference/deprecation.html<span class="token comment">#deprecation-of-object-mode-fall-back-behaviour-when-using-jit for details.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,10),g={href:"https://github.com/openai/whisper/discussions/1409",target:"_blank",rel:"noopener noreferrer"},m=e("br",null,null,-1),f=s(`<p>解决方法： 找到<code>*\\lib\\site-packages\\whisper\\timing.py</code>，这个文件的路径一般在报错时就会给出，然后再58行左右改<code>@numba.jit(nopython=True)</code></p><h3 id="_2-ssl-error" tabindex="-1"><a class="header-anchor" href="#_2-ssl-error" aria-hidden="true">#</a> 2.SSL Error</h3><p>报错是这样的</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>urllib.error.URLError: <span class="token operator">&lt;</span>urlopen error <span class="token punctuation">[</span>SSL: CERTIFICATE_VERIFY_FAILED<span class="token punctuation">]</span> certificate verify failed: self signed certificate <span class="token keyword">in</span> certificate chain <span class="token punctuation">(</span>_ssl.c:997<span class="token punctuation">)</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),_={href:"https://github.com/openai/whisper/discussions/734",target:"_blank",rel:"noopener noreferrer"},v=e("br",null,null,-1),y=s(`<p>3种解决方法：<br><strong>1.在python中：</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> ssl
ssl<span class="token punctuation">.</span>_create_default_https_context <span class="token operator">=</span> ssl<span class="token punctuation">.</span>_create_unverified_context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.自行下载文件<br></strong> 然后自行放到<code>/home/{user}/.cache/whisper/</code></p><p>下载地址：<br></p>`,4),x={href:"https://openaipublic.azureedge.net/main/whisper/models/d3dd57d32accea0b295c96e26691aa14d8822fac7d9d27d5dc00b4ca2826dd03/tiny.en.pt",target:"_blank",rel:"noopener noreferrer"},k={href:"https://openaipublic.azureedge.net/main/whisper/models/65147644a518d12f04e32d6f3b26facc3f8dd46e5390956a9424a650c0ce22b9/tiny.pt",target:"_blank",rel:"noopener noreferrer"},w={href:"https://openaipublic.azureedge.net/main/whisper/models/25a8566e1d0c1e2231d1c762132cd20e0f96a85d16145c3a00adf5d1ac670ead/base.en.pt",target:"_blank",rel:"noopener noreferrer"},z={href:"https://openaipublic.azureedge.net/main/whisper/models/ed3a0b6b1c0edf879ad9b11b1af5a0e6ab5db9205f891f668f8b0e6c6326e34e/base.pt",target:"_blank",rel:"noopener noreferrer"},E={href:"https://openaipublic.azureedge.net/main/whisper/models/f953ad0fd29cacd07d5a9eda5624af0f6bcf2258be67c92b79389873d91e0872/small.en.pt",target:"_blank",rel:"noopener noreferrer"},j={href:"https://openaipublic.azureedge.net/main/whisper/models/9ecf779972d90ba49c06d968637d720dd632c55bbf19d441fb42bf17a411e794/small.pt",target:"_blank",rel:"noopener noreferrer"},B={href:"https://openaipublic.azureedge.net/main/whisper/models/d7440d1dc186f76616474e0ff0b3b6b879abc9d1a4926b7adfa41db2d497ab4f/medium.en.pt",target:"_blank",rel:"noopener noreferrer"},I={href:"https://openaipublic.azureedge.net/main/whisper/models/345ae4da62f9b3d59415adc60127b97c714f32e89e936602e85993674d08dcb1/medium.pt",target:"_blank",rel:"noopener noreferrer"},M={href:"https://openaipublic.azureedge.net/main/whisper/models/e4b87e7e0bf463eb8e6956e646f1e277e901512310def2c24bf0e11bd3c28e9a/large-v1.pt",target:"_blank",rel:"noopener noreferrer"},S={href:"https://openaipublic.azureedge.net/main/whisper/models/81f7c96c852ee8fc832187b0132e569d6c3065a3252ed18e56effd0b6a73e524/large-v2.pt",target:"_blank",rel:"noopener noreferrer"},T={href:"https://openaipublic.azureedge.net/main/whisper/models/81f7c96c852ee8fc832187b0132e569d6c3065a3252ed18e56effd0b6a73e524/large-v2.pt",target:"_blank",rel:"noopener noreferrer"},G=s(`<p><strong>3.对于Mac，还有一种方法</strong> 直接在命令行运行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/Applications/Python<span class="token punctuation">\\</span> <span class="token number">3.10</span>/Install<span class="token punctuation">\\</span> Certificates.command
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),L={href:"https://stackoverflow.com/a/42334357/18849885",target:"_blank",rel:"noopener noreferrer"},N=s(`<h2 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法" aria-hidden="true">#</a> 使用方法</h2><h3 id="什么都不做型" tabindex="-1"><a class="header-anchor" href="#什么都不做型" aria-hidden="true">#</a> 什么都不做型</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>whisper <span class="token operator">&lt;</span>file dir<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>自动下载small模型，然后自动检测语言，结果输出在终端里<br><img src="`+o+`" alt="" loading="lazy"></p><h3 id="标准命令示例" tabindex="-1"><a class="header-anchor" href="#标准命令示例" aria-hidden="true">#</a> 标准命令示例</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>whisper audio.flac audio.mp3 audio.wav <span class="token parameter variable">--model</span> medium
whisper japanese.wav <span class="token parameter variable">--language</span> Japanese
whisper japanese.wav <span class="token parameter variable">--language</span> Japanese <span class="token parameter variable">--task</span> translate
whisper <span class="token parameter variable">--help</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6);function R(V,A){const a=i("ExternalLinkIcon");return l(),d("div",null,[p,e("p",null,[e("a",h,[t("Github仓库地址在这里"),n(a)]),u,t(" 可恶的UIUC暑校，教授讲英语带口音，听上去像印度裔，说话带饶舌")]),b,e("p",null,[t("可以找到的issue:"),e("a",g,[t("discussion#1409"),n(a)]),m,t(" 是版本不兼容的问题")]),f,e("p",null,[t("可以找到的issue:"),e("a",_,[t("discussion#734"),n(a)]),v,t(" 原因大概是所访问的网站证书不被信任")]),y,e("ul",null,[e("li",null,[e("a",x,[t("tiny.en"),n(a)])]),e("li",null,[e("a",k,[t("tiny"),n(a)])]),e("li",null,[e("a",w,[t("base.en"),n(a)])]),e("li",null,[e("a",z,[t("base"),n(a)])]),e("li",null,[e("a",E,[t("small.en"),n(a)])]),e("li",null,[e("a",j,[t("small"),n(a)])]),e("li",null,[e("a",B,[t("medium.en"),n(a)])]),e("li",null,[e("a",I,[t("medium"),n(a)])]),e("li",null,[e("a",M,[t("large-v1"),n(a)])]),e("li",null,[e("a",S,[t("large-v2"),n(a)])]),e("li",null,[e("a",T,[t("large"),n(a)])])]),G,e("p",null,[t("参考来源："),e("a",L,[t("stackoverflow"),n(a)])]),N])}const F=r(c,[["render",R],["__file","whisper.html.vue"]]);export{F as default};
